import { ExpressEngine, toRoutes, Context } from '@kenote/express'

const routes: Array<ExpressEngine.Route<Context>> = [
  {
    method: 'GET',
    routePath: '/',
    handler: [
      ctx => {
        if (ctx.session) {
          ctx.session.count = ctx.session.count || 0
          ctx.session.count++
        }
        ctx.json(ctx.session)
      }
    ]
  }
]

export default toRoutes(routes)